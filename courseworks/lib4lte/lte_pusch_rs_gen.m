%pusch channel reference signal generator
function [out,basic_out] = lte_pusch_rs_gen(rbnum,group_hop_flag,seq_hop_flag,slotno,cellid,deltass,...
                          ndmrs1,cyc_shift,symbol_index)
   %rbnum： 占用的rb个数  
   %group_hop_flag  组跳频使能标志
   %seq_hop_flag  序列跳频标志
   %deltass  高层配置的组跳频参数
   %ndmrs1   广播中配置的参数，   
   %cyc_shift  DCI调度信息中给出
prime_table = [11,  23,  31,  47,  59,  71,  83,  89, 107, 113, 131, 139, 151, 167, 179, 191, 199, 211, 227, 239, ...
 251, 263, 271, 283, 293, 311, 317, 331, 347, 359, 367, 383, 389, 401, 419, 431, 443, 449, 467, 479, ...
 491, 503, 509, 523, 523, 547, 563, 571, 587, 599, 607, 619, 631, 647, 659, 661, 683, 691, 701, 719, ...
 727, 743, 751, 761, 773, 787, 797, 811, 827, 839, 839, 863, 863, 887, 887, 911, 919, 929, 947, 953, ...
 971, 983, 991, 997,1019,1031,1039,1051,1063,1069,1091,1103,1109,1123,1129,1151,1163,1171,1187,1193,2003]; %
ndmrs2_table=[0,2,3,4,6,8,9,10];
fai_12sc = [-1 , 1 , 3  , -3 , 3  ,3   , 1    ,1     ,3      ,1      ,-3     ,3        ;
1  ,1  ,3   ,  3 , 3  ,-1  ,  1   , -3   ,  -3   ,   1   ,   -3  ,   3     ;
1  ,1  ,-3  , -3 , -3 , -1 ,   -3 ,   -3 ,    1  ,    -3 ,     1 ,    -1   ;
-1 , 1 , 1  ,  1 , 1  ,-1  ,  -3  ,  -3  ,   1   ,   -3  ,    3  ,   -1    ;
-1 , 3 , 1  , -1 , 1  ,-1  ,  -3  ,  -1  ,   1   ,   -1  ,    1  ,   3     ;
1  ,-3 , 3  , -1 , -1 , 1  ,  1   , -1   ,  -1   ,   3   ,   -3  ,   1     ;
-1 , 3 , -3 , -3 , -3 , 3  ,  1   , -1   ,  3    ,  3    ,  -3   ,  1      ;
-3 , -1, -1 , -1 , 1  ,-3  ,  3   , -1   ,  1    ,  -3   ,   3   ,  1      ;
1  ,-3 , 3  ,  1 , -1 , -1 ,   -1 ,   1  ,   1   ,   3   ,   -1  ,   1     ;
1  ,-3 , -1 ,  3 , 3  ,-1  ,  -3  ,  1   ,  1    ,  1    ,  1    , 1       ;
-1 , 3 , -1 ,  1 , 1  ,-3  ,  -3  ,  -1  ,   -3  ,    -3 ,     3 ,    -1   ;
3  ,1  ,-1  , -1 , 3  ,3   , -3   , 1    , 3     , 1     , 3     ,3        ;
1  ,-3 , 1  ,  1 , -3 , 1  ,  1   , 1    , -3    ,  -3   ,   -3  ,   1     ;
3  ,3  ,-3  ,  3 , -3 , 1  ,  1   , 3    , -1    ,  -3   ,   3   ,  3      ;
-3 , 1 , -1 , -3 , -1 , 3  ,  1   , 3    , 3     , 3     , -1    , 1       ;
3  ,-1 , 1  , -3 , -1 , -1 ,   1  ,  1   ,  3    ,  1    ,  -1   ,  -3     ;
1  ,3  ,1   , -1 , 1  ,3   , 3    ,3     ,-1     , -1    ,  3    , -1      ;
-3 , 1 , 1  ,  3 , -3 , 3  ,  -3  ,  -3  ,   3   ,   1   ,   3   ,  -1     ;
-3 , 3 , 1  ,  1 , -3 , 1  ,  -3  ,  -3  ,   -1  ,    -1 ,     1 ,    -3   ;
-1 , 3 , 1  ,  3 , 1  ,-1  ,  -1  ,  3   ,  -3   ,   -1  ,    -3 ,    -1   ;
-1 , -3,  1 ,  1 , 1  ,1   , 3    ,1     ,-1     , 1     , -3    , -1      ;
-1 , 3 , -1 ,  1 , -3 , -3 ,   -3 ,   -3 ,    -3 ,     1 ,     -1,     -3  ;
1  ,1  ,-3  , -3 , -3 , -3 ,   -1 ,   3  ,   -3  ,    1  ,    -3 ,    3    ;
1  ,1  ,-1  , -3 , -1 , -3 ,   1  ,  -1  ,   1   ,   3   ,   -1  ,   1     ;
1  ,1  ,3   ,  1 , 3  ,3   , -1   , 1    , -1    ,  -3   ,   -3  ,   1     ;
1  ,-3 , 3  ,  3 , 1  ,3   , 3    ,1     ,-3     , -1    ,  -1   ,  3      ;
1  ,3  ,-3  , -3 , 3  ,-3  ,  1   , -1   ,  -1   ,   3   ,   -1  ,   -3    ;
-3 , -1, -3 , -1 , -3 , 3  ,  1   , -1   ,  1    ,  3    ,  -3   ,  -3     ;
-1 , 3 , -3 ,  3 , -1 , 3  ,  3   , -3   ,  3    ,  3    ,  -1   ,  -1     ;
3  ,-3 , -3 , -1 , -1 , -3 ,   -1 ,   3  ,   -3  ,    3  ,    1  ,   -1    ];
fai_24sc = [-1,	3,	1,	-3,	3,	-1,	1,	3,	-3,	3,	1,	3,	-3,	3,	1,	1,	-1,	1,	3,	-3,	3,	-3,	-1,	-3;
-3,	3,	-3,	-3,	-3,	1,	-3,	-3,	3,	-1,	1,	1,	1,	3,	1,	-1,	3,	-3,	-3,	1,	3,	1,	1,	-3;
3,	-1,	3,	3,	1,	1,	-3,	3,	3,	3,	3,	1,	-1,	3,	-1,	1,	1,	-1,	-3,	-1,	-1,	1,	3,	3;
-1,	-3,	1,	1,	3,	-3,	1,	1,	-3,	-1,	-1,	1,	3,	1,	3,	1,	-1,	3,	1,	1,	-3,	-1,	-3,	-1;
-1,	-1,	-1,	-3,	-3,	-1,	1,	1,	3,	3,	-1,	3,	-1,	1,	-1,	-3,	1,	-1,	-3,	-3,	1,	-3,	-1,	-1;
-3,	1,	1,	3,	-1,	1,	3,	1,	-3,	1,	-3,	1,	1,	-1,	-1,	3,	-1,	-3,	3,	-3,	-3,	-3,	1,	1;
1,	1,	-1,	-1,	3,	-3,	-3,	3,	-3,	1,	-1,	-1,	1,	-1,	1,	1,	-1,	-3,	-1,	1,	-1,	3,	-1,	-3;
-3,	3,	3,	-1,	-1,	-3,	-1,	3,	1,	3,	1,	3,	1,	1,	-1,	3,	1,	-1,	1,	3,	-3,	-1,	-1,	1;
-3,	1,	3,	-3,	1,	-1,	-3,	3,	-3,	3,	-1,	-1,	-1,	-1,	1,	-3,	-3,	-3,	1,	-3,	-3,	-3,	1,	-3;
1,	1,	-3,	3,	3,	-1,	-3,	-1,	3,	-3,	3,	3,	3,	-1,	1,	1,	-3,	1,	-1,	1,	1,	-3,	1,	1;
-1,	1,	-3,	-3,	3,	-1,	3,	-1,	-1,	-3,	-3,	-3,	-1,	-3,	-3,	1,	-1,	1,	3,	3,	-1,	1,	-1,	3;
1,	3,	3,	-3,	-3,	1,	3,	1,	-1,	-3,	-3,	-3,	3,	3,	-3,	3,	3,	-1,	-3,	3,	-1,	1,	-3,	1;
1,	3,	3,	1,	1,	1,	-1,	-1,	1,	-3,	3,	-1,	1,	1,	-3,	3,	3,	-1,	-3,	3,	-3,	-1,	-3,	-1;
3,	-1,	-1,	-1,	-1,	-3,	-1,	3,	3,	1,	-1,	1,	3,	3,	3,	-1,	1,	1,	-3,	1,	3,	-1,	-3,	3;
-3,	-3,	3,	1,	3,	1,	-3,	3,	1,	3,	1,	1,	3,	3,	-1,	-1,	-3,	1,	-3,	-1,	3,	1,	1,	3;
-1,	-1,	1,	-3,	1,	3,	-3,	1,	-1,	-3,	-1,	3,	1,	3,	1,	-1,	-3,	-3,	-1,	-1,	-3,	-3,	-3,	-1;
-1,	-3,	3,	-1,	-1,	-1,	-1,	1,	1,	-3,	3,	1,	3,	3,	1,	-1,	1,	-3,	1,	-3,	1,	1,	-3,	-1;
1,	3,	-1,	3,	3,	-1,	-3,	1,	-1,	-3,	3,	3,	3,	-1,	1,	1,	3,	-1,	-3,	-1,	3,	-1,	-1,	-1;
1,	1,	1,	1,	1,	-1,	3,	-1,	-3,	1,	1,	3,	-3,	1,	-3,	-1,	1,	1,	-3,	-3,	3,	1,	1,	-3;
1,	3,	3,	1,	-1,	-3,	3,	-1,	3,	3,	3,	-3,	1,	-1,	1,	-1,	-3,	-1,	1,	3,	-1,	3,	-3,	-3;
-1,	-3,	3,	-3,	-3,	-3,	-1,	-1,	-3,	-1,	-3,	3,	1,	3,	-3,	-1,	3,	-1,	1,	-1,	3,	-3,	1,	-1;
-3,	-3,	1,	1,	-1,	1,	-1,	1,	-1,	3,	1,	-3,	-1,	1,	-1,	1,	-1,	-1,	3,	3,	-3,	-1,	1,	-3;
-3,	-1,	-3,	3,	1,	-1,	-3,	-1,	-3,	-3,	3,	-3,	3,	-3,	-1,	1,	3,	1,	-3,	1,	3,	3,	-1,	-3;
-1,	-1,	-1,	-1,	3,	3,	3,	1,	3,	3,	-3,	1,	3,	-1,	3,	-1,	3,	3,	-3,	3,	1,	-1,	3,	3;
1,	-1,	3,	3,	-1,	-3,	3,	-3,	-1,	-1,	3,	-1,	3,	-1,	-1,	1,	1,	1,	1,	-1,	-1,	-3,	-1,	3;
1,	-1,	1,	-1,	3,	-1,	3,	1,	1,	-1,	-1,	-3,	1,	1,	-3,	1,	3,	-3,	1,	1,	-3,	-3,	-1,	-1;
-3,	-1,	1,	3,	1,	1,	-3,	-1,	-1,	-3,	3,	-3,	3,	1,	-3,	3,	-3,	1,	-1,	1,	-3,	1,	1,	1;
-1,	-3,	3,	3,	1,	1,	3,	-1,	-3,	-1,	-1,	-1,	3,	1,	-3,	-3,	-1,	3,	-3,	-1,	-3,	-1,	-3,	-1;
-1,	-3,	-1,	-1,	1,	-3,	-1,	-1,	1,	-1,	-3,	1,	1,	-3,	1,	-3,	-3,	3,	1,	1,	-1,	3,	-1,	-1;
1,	1,	-1,	-1,	-3,	-1,	3,	-1,	3,	-1,	1,	3,	1,	-1,	3,	1,	3,	-3,	-3,	1,	-1,	-1,	1,	3 ];

